<div class="container-fluid pt-3">
    <div class="jumbotron">
        <h1 class="display-4 text-center">Campeonato de Filmes</h1>
        <p class="lead text-center">FASE DE SELEÇÃO</p>
        <p class="text-center"><em>Selecione 8 filmes para participar da competição e depois pressione o botão Iniciar
                Competição para começar a competição.</em></p>
        <hr class="my-4">
        <div class="d-flex flex-row-reverse bd-highlight mb-2">
            <a class="btn btn-primary btn-md" href="#" role="button">Iniciar Competição</a>
        </div>
        <div class="row m-0 p-4 bg-info">
            <div class="col-12 mb-1">Filmes Selecionados {{contadorFilmes}}/8</div>
            <div *ngIf="carregando; else elseCarregando" class="col-12">
                <div class="d-flex justify-content-center">
                    <div class="spinner-border text-light" role="status">
                        <div class="sr-only">Carregando...</div>
                    </div>
                </div>
            </div>
            <ng-template #elseCarregando>
                <ng-container *ngIf="error && !filmes; else elseTemplate">
                    <div class="col-12 text-center text-white text-center">Erro ao carregar a lista de filmes</div>
                </ng-container>
                <ng-template *ngIf="!filmes" #elseTemplate>
                    <div class="col-12 text-center text-white text-center">Nenhum filme disponível</div>
                </ng-template>
            </ng-template>
            
            <div *ngFor="let filme of filmes; let i = index" class="col-xs-12 col-sm-6 col-lg-3 p-1">
                <div class="d-flex justify-content-between align-items-center card-filme" [ngClass]="{'selected': filme.selected}"(click)="onSelectFilme(i, filme)"> 
                   <div>
                        <b>{{filme.titulo}}</b><br><small>{{filme.ano}}</small>
                    </div>
                    <ng-container *ngIf="filme.selected; else elseTemplate">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                            <path fill-rule="evenodd" d="M1.5 13A1.5 1.5 0 0 0 3 14.5h10a1.5 1.5 0 0 0 1.5-1.5V8a.5.5 0 0 0-1 0v5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5h8a.5.5 0 0 0 0-1H3A1.5 1.5 0 0 0 1.5 3v10z"/>
                        </svg>
                    </ng-container>
                    <ng-template #elseTemplate>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-square" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                        </svg>    
                    </ng-template>
                    
                </div>
            </div>
        </div>
    </div>
</div>